<h1>Hello, {{ title() }}</h1>
<p>Congratulations! Your app is running. üéâ</p>

<!-- IP Address Section -->
<div style="margin-top: 2rem;">
  <button 
    class="pill" 
    (click)="fetchIpAddresses()"
    [disabled]="isLoading()"
    style="cursor: pointer; font-size: 1rem; padding: 0.75rem 1.5rem;">
    @if (isLoading()) {
      <span>üîÑ Loading...</span>
    } @else {
      <span>üåê Get IP Addresses</span>
    }
  </button>

  @if (ipInfo()) {
    <div style="margin-top: 1.5rem; padding: 1.5rem; background: color-mix(in srgb, var(--bright-blue) 10%, transparent); border-radius: 0.5rem;">
      <h3 style="margin: 0 0 1rem 0; color: var(--gray-900);">üåê Your IP Information:</h3>
      
      <!-- Public IPv4 -->
      <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: white; border-radius: 0.25rem;">
        <strong style="color: var(--bright-blue);">Public IPv4:</strong>
        <span style="margin-left: 0.5rem; color: var(--gray-700); font-family: monospace;">
          {{ ipInfo()!.publicIp }}
        </span>
      </div>

      <!-- Public IPv4 (from WebRTC) -->
      @if (ipInfo()!.webrtcPublicIp) {
        <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: white; border-radius: 0.25rem;">
          <strong style="color: var(--bright-blue);">Public IPv4 (WebRTC):</strong>
          <span style="margin-left: 0.5rem; color: var(--gray-700); font-family: monospace;">
            {{ ipInfo()!.webrtcPublicIp }}
          </span>
          @if (ipInfo()!.publicIp === ipInfo()!.webrtcPublicIp) {
            <span style="margin-left: 0.5rem; color: green;">‚úì Verified</span>
          }
        </div>
      }

      <!-- Public IPv6 -->
      @if (ipInfo()!.publicIpv6) {
        <div style="margin-bottom: 0.75rem; padding: 0.5rem; background: white; border-radius: 0.25rem;">
          <strong style="color: var(--electric-violet);">Public IPv6:</strong>
          <span style="margin-left: 0.5rem; color: var(--gray-700); font-family: monospace; font-size: 0.875rem;">
            {{ ipInfo()!.publicIpv6 }}
          </span>
        </div>
      }
      
      <!-- Private IP -->
      <div style="padding: 0.5rem; background: white; border-radius: 0.25rem;">
        <strong style="color: var(--electric-violet);">Private IP:</strong>
        <span style="margin-left: 0.5rem; color: var(--gray-700); font-family: monospace;">
          {{ ipInfo()!.privateIp }}
        </span>
      </div>

      @if (ipInfo()!.privateIp.includes('mDNS')) {
        <div style="margin-top: 1rem; padding: 1rem; background: color-mix(in srgb, var(--hot-red) 10%, transparent); border-radius: 0.5rem;">
          <p style="margin: 0; font-size: 0.875rem; color: var(--gray-700);">
            üîí <strong>Privacy Protection Active:</strong> Your browser is hiding your private IP using mDNS (*.local addresses).
          </p>
          <details style="margin-top: 0.5rem;">
            <summary style="cursor: pointer; font-weight: bold; color: var(--bright-blue);">
              How to show private IP
            </summary>
            <ol style="margin: 0.5rem 0; padding-left: 1.5rem; line-height: 1.8; font-size: 0.875rem;">
              <li>Open <code style="background: #f0f0f0; padding: 0.2rem 0.4rem; border-radius: 0.25rem;">chrome://flags</code></li>
              <li>Search for: <code style="background: #f0f0f0; padding: 0.2rem 0.4rem; border-radius: 0.25rem;">WebRTC mDNS</code></li>
              <li>Set to <strong>Disabled</strong></li>
              <li>Restart browser and refresh this page</li>
            </ol>
          </details>
        </div>
      }
    </div>
  }

  @if (error()) {
    <div style="margin-top: 1rem; padding: 1rem; background: color-mix(in srgb, var(--hot-red) 10%, transparent); border-radius: 0.5rem; color: var(--hot-red);">
      ‚ùå {{ error() }}
    </div>
  }
</div>